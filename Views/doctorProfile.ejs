<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. <%= doctor.userId.FName %> <%= doctor.userId.LName %> - <%= hospital.name %></title>
    <link rel="stylesheet" href="/css/doctor_profile.css">
    <link rel="stylesheet" href="/css/common_footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav>
        <div class="navbar-container">
            <a href="/" class="site-name">Prime Care</a>
            <div class="navbar-links">
                <a href="/home">HOME</a>
                <a href="/about">ABOUT US</a>
                <a href="/departments">DEPARTMENTS</a>
                <a href="/doctors" class="<%= currentPage === 'doctors' ? 'active' : '' %>">DOCTORS</a>
                <a href="/quick-appointment">BOOK NOW</a>
                <% if (user) { %>
                    <a href="/profile"><%= user.FName %> <%= user.LName %></a>
                    <a href="/logout" class="signup-btn">Logout</a>
                <% } else { %>
                    <a href="/login">Login</a>
                    <a href="/patient/signup" class="signup-btn">Sign Up</a>
                <% } %>
            </div>
        </div>
    </nav>

    <header>
        <h1 class="page-title">Dr. <%= doctor.userId.FName %> <%= doctor.userId.LName %></h1>
        <p class="subtitle"><%= doctor.specialization %></p>
    </header>

    <main class="doctor-profile-container">
        <div class="profile-card">
            <div class="profile-image">
                <img src="<%= doctor.profileImage || '/images/account-icon-33.png' %>" alt="Dr. <%= doctor.userId.FName %> <%= doctor.userId.LName %>">
                <% if (doctor.verified) { %>
                <div class="profile-verified"></div>
                <% } %>
            </div>
            <div class="profile-details">
                <h2>About Dr. <%= doctor.userId.LName %></h2>
                <p><strong>Specialization:</strong> <%= doctor.specialization %></p>
                <% if (doctor.departmentId) { %>
                <p><strong>Department:</strong> <%= doctor.departmentId.name %></p>
                <% } %>
                <p><strong>Experience:</strong> <%= doctor.experience || 'N/A' %> years</p>
                <p><strong>Rating:</strong> <%= doctor.rating || 'N/A' %> <i class="fas fa-star"></i></p>
                
                <hr>

                <h3>Contact Information</h3>
                <p><i class="fas fa-envelope"></i> <%= doctor.userId.Email %></p>
                <p><i class="fas fa-phone"></i> <%= doctor.userId.PhoneNumber %></p>
                <p><strong>Gender:</strong> <%= doctor.userId.Gender %></p>
                <p><strong>Age:</strong> <%= doctor.userId.Age %></p>

                <% if (doctor.schedule && Array.isArray(doctor.schedule) && doctor.schedule.length > 0) { %>
                <hr>
                <h3>Availability</h3>
                <ul>
                    <% doctor.schedule.forEach(slot => { %>
                    <li><%= slot.day %>: <%= slot.startTime %> - <%= slot.endTime %></li>
                    <% }); %>
                </ul>
                <% } %>

                <div class="profile-actions">
                    <a href="/appointments/book?doctor=<%= doctor._id %>" class="btn book-btn"><i class="fas fa-calendar-alt"></i> Book Appointment</a>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <h3>Prime Care</h3>
                <p>Committed to providing quality healthcare for all.</p>
            </div>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
            </div>
            <div class="footer-socials">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; <%= new Date().getFullYear() %> Prime Care. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="/javascript/doctor_profile.js"></script>
</body>
</html>